<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="./dist/main.css" />
    <title>BoxStats</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Goblin+One&display=swap" rel="stylesheet">
    <script src="./dist/main.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <style>@import url('https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap');</style>
</head>

<body>
        <header>
            <div class='left-header'>BoxStats</div>
            <div class='right-header'>
                <a href="https://github.com/dannyho77" target="_blank"><img src="./assets/github_icon.png" id="github"/></a>
                <a href="https://www.linkedin.com/in/danny-ho-a4988360" target="_blank"><img src="./assets/linkedin_icon.png" id="linkedin"/></a>
                <a href="https://angel.co/u/danny-ho-12" target="_blank"><img src="./assets/angellist_icon.png" id="angellist"/></a>
                <a href="https://dannyho77.github.io/Danny-Ho-dev.bio/#portfolio" target="_blank"><img src="./assets/portfolio_icon.png" id="portfolio"/></a>
            </div>
        </header>

      <div id='top-half'>
        <ul id='fighter-list'>
            <script>
                d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
                    const list = []
                    data.forEach(d => {
                        list.push(d.Name);
                    });

                    d3.select("#fighter-list")
                    .selectAll("li")
                    .data(list)
                    .enter()
                    .append("li")
                    .text(function(list) { return list; });

                    let recentFight = function(i){
                        debugger
                        let height = 400;
                        let width = 400;
                        let margin = 200;

                        const x = d3.scaleBand()
                                  .domain(["Jabs Landed","Opponent Jabs","Power Punches Landed","Opponent Power Punches","Total Punches Landed","Opponent Total Punches"])
                                  .range([0,width])
                                  .padding(0.2);

                        const y = d3.scaleLinear()
                                  .domain([0, d3.max(data, d => d.TotalPunchesLanded)]).nice()
                                  .range([height, 0]);

                        const svg = d3.select("#recent-bars").append("svg")
                                      .attr("width", 650)
                                      .attr("height", 680);

                        const g = svg.append("g")
                                  .attr("transform", "translate(" + 100 + "," + 100 + ")");

                              g.append("g")
                              .attr("transform", "translate(0," + height + ")")
                              .call(d3.axisBottom(x))
                              .selectAll("text")
                              .attr("transform", "rotate(45)")
                              .style("text-anchor", "start")
                              .attr("font-size", "14px");

                              g.append("g")
                              .call(d3.axisLeft(y).ticks(10))
                              .append("text")
                              .attr("y", 6)
                              .attr("dy", "0.71em")
                              .attr("text-anchor", "end");

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "steelblue")
                        .attr("x", function(d) { return x("Jabs Landed"); })
                        .attr("y", function(d) { return y(data[i].JabsLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].JabsLanded); });

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "gray")
                        .attr("x", function(d) { return x("Opponent Jabs"); })
                        .attr("y", function(d) { return y(data[i].OpponentJabsLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].OpponentJabsLanded); });

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "steelblue")
                        .attr("x", function(d) { return x("Power Punches Landed"); })
                        .attr("y", function(d) { return y(data[i].PowerPunchesLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].PowerPunchesLanded); });

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "gray")
                        .attr("x", function(d) { return x("Opponent Power Punches"); })
                        .attr("y", function(d) { return y(data[i].OpponentPowerPunchesLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].OpponentPowerPunchesLanded); });

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "steelblue")
                        .attr("x", function(d) { return x("Total Punches Landed"); })
                        .attr("y", function(d) { return y(data[i].TotalPunchesLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].TotalPunchesLanded); });

                        g.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("fill", "gray")
                        .attr("x", function(d) { return x("Opponent Total Punches"); })
                        .attr("y", function(d) { return y(data[i].OpponentTotalPunchesLanded); })
                        .attr("width", x.bandwidth())
                        .attr("height", function(d) { return height - y(data[i].OpponentTotalPunchesLanded); });

                        svg.append("text")
                        .attr("transform", "translate(100,0)")
                        .attr("x", 10)
                        .attr("y", 80)
                        .attr("font-size", "18px")
                        .attr("font-weight", "600")
                        .text(`Most Recent Fight (vs. ${data[i].LastOpponent})`)

                        g.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .append("text")
                        .attr("y", height - 250)
                        .attr("x", width - 150)
                        .attr("text-anchor", "end")
                        .attr("stroke", "black")
                        .text("Punch Type");

                        g.append("g")
                        .append("text")
                        .attr("transform", "rotate(-90)")
                        .attr("y", -50)
                        .attr("x", -150)
                        .attr("text-anchor", "end")
                        .attr("stroke", "black")
                        .text("Punch Count");
                    };

                    let boxers = document.getElementsByTagName('li');
                        for(let i = 0; i < boxers.length; i++) {
                            let ele = boxers[i];   
                            // debugger
                            ele.onclick = function() {
                                recentFight(i);
                            };
                        };
                });
            </script>
        </ul>
        <div class="click-info">
            <div class='profile'>
                <script>
                    d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
                        let picUrl = data[0].Picture;
                        let image = new Image();
                        image.src = picUrl;

                        // let name = document.createTextNode(data[0].Name);
                        let name = document.createElement('p');
                        name.innerHTML=`${data[0].Name}`;
                        let age = document.createElement('p');
                        age.innerHTML=`Age: ${data[0].Age}`;
                        let division = document.createElement('p');
                        division.innerHTML=`Division: ${data[0].Division}`;
                        let height = document.createElement('p');
                        height.innerHTML=`Height: ${data[0].Height}`;
                        let reach = document.createElement('p');
                        reach.innerHTML=`Reach: ${data[0].Reach}`;

                        document.getElementsByClassName('profile')[0]
                          .appendChild(image)

                        document.getElementsByClassName('profile')[0]
                          .appendChild(name);

                        document.getElementsByClassName('profile')[0]
                          .appendChild(age)

                        document.getElementsByClassName('profile')[0]
                          .appendChild(division)

                        document.getElementsByClassName('profile')[0]
                          .appendChild(height)

                        document.getElementsByClassName('profile')[0]
                          .appendChild(reach)

                        console.log(data)
                    })
                </script>
            </div>

            <div id='recent-bars'></div>

            <div id='career-bars'></div>
        </div>
      </div>
        <!-- <script>
                
          d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
            
            let height = 400;
            let width = 400;
            let margin = 200;

            const x = d3.scaleBand()
                      .domain(["Jabs Landed","Opponent Jabs","Power Punches Landed","Opponent Power Punches","Total Punches Landed","Opponent Total Punches"])
                      .range([0,width])
                      .padding(0.2);

            const y = d3.scaleLinear()
                      .domain([0, d3.max(data, d => d.TotalPunchesLanded)]).nice()
                      .range([height, 0]);

            const svg = d3.select("#recent-bars").append("svg")
                          .attr("width", 650)
                          .attr("height", 680);

            const g = svg.append("g")
                      .attr("transform", "translate(" + 100 + "," + 100 + ")");

                  g.append("g")
                  .attr("transform", "translate(0," + height + ")")
                  .call(d3.axisBottom(x))
                  .selectAll("text")
                  .attr("transform", "rotate(45)")
                  .style("text-anchor", "start")
                  .attr("font-size", "14px");

                  g.append("g")
                  .call(d3.axisLeft(y).ticks(10))
                  .append("text")
                  .attr("y", 6)
                  .attr("dy", "0.71em")
                  .attr("text-anchor", "end");

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "steelblue")
            .attr("x", function(d) { return x("Jabs Landed"); })
            .attr("y", function(d) { return y(data[0].JabsLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].JabsLanded); });

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "gray")
            .attr("x", function(d) { return x("Opponent Jabs"); })
            .attr("y", function(d) { return y(data[0].OpponentJabsLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].OpponentJabsLanded); });

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "steelblue")
            .attr("x", function(d) { return x("Power Punches Landed"); })
            .attr("y", function(d) { return y(data[0].PowerPunchesLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].PowerPunchesLanded); });

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "gray")
            .attr("x", function(d) { return x("Opponent Power Punches"); })
            .attr("y", function(d) { return y(data[0].OpponentPowerPunchesLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].OpponentPowerPunchesLanded); });

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "steelblue")
            .attr("x", function(d) { return x("Total Punches Landed"); })
            .attr("y", function(d) { return y(data[0].TotalPunchesLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].TotalPunchesLanded); });

            g.selectAll(".bar")
            .data(data)
            .enter().append("rect")
            .attr("fill", "gray")
            .attr("x", function(d) { return x("Opponent Total Punches"); })
            .attr("y", function(d) { return y(data[0].OpponentTotalPunchesLanded); })
            .attr("width", x.bandwidth())
            .attr("height", function(d) { return height - y(data[0].OpponentTotalPunchesLanded); });

            svg.append("text")
            .attr("transform", "translate(100,0)")
            .attr("x", 10)
            .attr("y", 80)
            .attr("font-size", "18px")
            .attr("font-weight", "600")
            .text(`Most Recent Fight (vs. ${data[0].LastOpponent})`)

            g.append("g")
            .attr("transform", "translate(0," + height + ")")
            .append("text")
            .attr("y", height - 250)
            .attr("x", width - 150)
            .attr("text-anchor", "end")
            .attr("stroke", "black")
            .text("Punch Type");

            g.append("g")
            .append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", -50)
            .attr("x", -150)
            // .attr("dy", "-5.1em")
            .attr("text-anchor", "end")
            .attr("stroke", "black")
            .text("Punch Count");

          });
            
        </script> -->
</body>
</html>