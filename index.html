<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="./dist/main.css" />
    <title>BoxStats</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Goblin+One&display=swap" rel="stylesheet">
    <script src="./dist/main.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <style>@import url('https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap');</style>
</head>

<body>
        <header>
            <div class='left-header'>BoxStats</div>
            <div class='right-header'>
                <a href="https://github.com/dannyho77" target="_blank"><img src="./assets/github_icon.png" id="github"/></a>
                <a href="https://www.linkedin.com/in/danny-ho-a4988360" target="_blank"><img src="./assets/linkedin_icon.png" id="linkedin"/></a>
                <a href="https://angel.co/u/danny-ho-12" target="_blank"><img src="./assets/angellist_icon.png" id="angellist"/></a>
                <a href="https://dannyho77.github.io/Danny-Ho-dev.bio/#portfolio" target="_blank"><img src="./assets/portfolio_icon.png" id="portfolio"/></a>
            </div>
        </header>
        <ul id='fighter-list'>
            <script>
                d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
                    const list = []
                    data.forEach(d => {
                        list.push(d.Name);
                    });

                    d3.select("#fighter-list")
                    .selectAll("li")
                    .data(list)
                    .enter()
                    .append("li")
                    .text(function(list) { return list; });
                })
            </script>
        </ul>

        <div class='profile'>
            <script>
                d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
                    let picUrl = data[0].Picture;
                    let image = new Image();
                    image.src = picUrl;

                    // let name = document.createTextNode(data[0].Name);
                    let name = document.createElement('p');
                    name.innerHTML=`${data[0].Name}`;
                    let age = document.createElement('p');
                    age.innerHTML=`Age: ${data[0].Age}`;
                    let division = document.createElement('p');
                    division.innerHTML=`Division: ${data[0].Division}`;
                    let height = document.createElement('p');
                    height.innerHTML=`Height: ${data[0].Height}`;
                    let reach = document.createElement('p');
                    reach.innerHTML=`Reach: ${data[0].Reach}`;

                    document.getElementsByClassName('profile')[0]
                      .appendChild(image)

                      document.getElementsByClassName('profile')[0]
                        .appendChild(name);
                      
                    // document.getElementsByClassName('profile')[0]
                    //   .appendChild(name)

                    document.getElementsByClassName('profile')[0]
                      .appendChild(age)

                    document.getElementsByClassName('profile')[0]
                      .appendChild(division)

                    document.getElementsByClassName('profile')[0]
                      .appendChild(height)

                    document.getElementsByClassName('profile')[0]
                      .appendChild(reach)

                    console.log(data)
                })
            </script>
        </div>

        <div id='recent-bars'>
            <script>
                // set the dimensions and margins of the graph
                const margin = {top: 10, right: 30, bottom: 40, left: 100},
                    width = 460 - margin.left - margin.right,
                    height = 500 - margin.top - margin.bottom;
                
                // append the svg object to the body of the page
                const svg = d3.select("#recent-bars")
                  .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                    .attr("transform",
                          "translate(" + margin.left + "," + margin.top + ")");
                
                // Parse the Data
                d3.csv("https://raw.githubusercontent.com/dannyho77/BoxStats/main/assets/fighters_info.csv", function(data) {
                
                // Add X axis
                  const x = d3.scaleLinear()
                    .domain([0, 400])
                    .range([ 0, width]);
                  svg.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x))
                    .selectAll("text")
                      .attr("transform", "translate(-10,0)rotate(-45)")
                      .style("text-anchor", "end");
                
                // Y axis
                const y = d3.scaleBand()
                  .range([ 0, height ])
                  .domain(data.map(function(d) { return (d.Name); }))
                  .padding(1);
                svg.append("g")
                  .call(d3.axisLeft(y))

                
                // Lines
                svg.selectAll("myline")
                  .data(data)
                  .enter()
                  .append("line")
                    .attr("x1", function(d) { return x(d.Value); })
                    .attr("x2", x(0))
                    .attr("y1", function(d) { return y(d.Country); })
                    .attr("y2", function(d) { return y(d.Country); })
                    .attr("stroke", "grey")
                
                // Circles
                svg.selectAll("mycircle")
                  .data(data)
                  .enter()
                  .append("circle")
                    .attr("cx", function(d) { return x(d.Value); })
                    .attr("cy", function(d) { return y(d.Country); })
                    .attr("r", "4")
                    .style("fill", "#69b3a2")
                    .attr("stroke", "black")
                })
                
                </script>
        </div>
        <div id='career-bars'>
            
        </div>
</body>
</html>